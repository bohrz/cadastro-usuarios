(this["webpackJsonpcadastro-usuarios"]=this["webpackJsonpcadastro-usuarios"]||[]).push([[0],{104:function(e,t,n){},123:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},239:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(53),c=n.n(r),i=(n(104),n(13)),o=n.n(i),l=(n(123),Object(a.createContext)({token:null,setToken:function(){}})),d=n(4),j=n(3);j.c({mixed:{default:"\xe9 inv\xe1lido",required:"*Campo obrigat\xf3rio",oneOf:"deve ser um dos seguintes valores: ${values}",notOneOf:"n\xe3o pode ser um dos seguintes valores: ${values}"},string:{length:"deve ter exatamente ${length} caracteres",min:"deve ter pelo menos ${min} caracteres",max:"deve ter no m\xe1ximo ${max} caracteres",email:"*Formato de email inv\xe1lido",url:"deve ter um formato de URL v\xe1lida",trim:"n\xe3o deve conter espa\xe7os no in\xedcio ou no fim.",lowercase:"deve estar em mai\xfasculo",uppercase:"deve estar em min\xfasculo"},number:{min:"deve ser no m\xednimo ${min}",max:"deve ser no m\xe1ximo ${max}",lessThan:"deve ser menor que ${less}",moreThan:"deve ser maior que ${more}",notEqual:"n\xe3o pode ser igual \xe0 ${notEqual}",positive:"deve ser um n\xfamero pos\xedtivo",negative:"deve ser um n\xfamero negativo",integer:"deve ser um n\xfamero inteiro"}});var m=j.b().shape({emailRegister:j.d().email().required(),passwordRegister:j.d().min(4).required()}),u=n(2);j.c({mixed:{default:"\xe9 inv\xe1lido",required:"*Campo obrigat\xf3rio",oneOf:"deve ser um dos seguintes valores: ${values}",notOneOf:"n\xe3o pode ser um dos seguintes valores: ${values}"},string:{length:"deve ter exatamente ${length} caracteres",min:"deve ter pelo menos ${min} caracteres",max:"deve ter no m\xe1ximo ${max} caracteres",email:"*Formato de email inv\xe1lido",url:"deve ter um formato de URL v\xe1lida",trim:"n\xe3o deve conter espa\xe7os no in\xedcio ou no fim.",lowercase:"deve estar em mai\xfasculo",uppercase:"deve estar em min\xfasculo"},number:{min:"deve ser no m\xednimo ${min}",max:"deve ser no m\xe1ximo ${max}",lessThan:"deve ser menor que ${less}",moreThan:"deve ser maior que ${more}",notEqual:"n\xe3o pode ser igual \xe0 ${notEqual}",positive:"deve ser um n\xfamero pos\xedtivo",negative:"deve ser um n\xfamero negativo",integer:"deve ser um n\xfamero inteiro"}});var b=j.b().shape({emaillogin:j.d().email()}),O=n(0),x=function(){var e=Object(a.useContext)(l).setToken,t=Object(d.g)();return Object(O.jsx)("div",{className:"loginAndRegister",children:Object(O.jsx)("div",{className:"col-4 center",children:Object(O.jsxs)("div",{className:"login__area",children:[Object(O.jsx)("h1",{children:"VINGADORES"}),Object(O.jsx)("h2",{children:"CADASTRO DE USU\xc1RIOS"}),Object(O.jsxs)("div",{className:"login",children:[Object(O.jsx)("h3",{children:"Login"}),Object(O.jsx)(u.d,{validationSchema:b,onSubmit:function(n,a){o.a.get("http://localhost:5000/administradores",{username:n.emaillogin,password:n.password}).then((function(a){var s=a.data.filter((function(e){return e.username===n.emaillogin}));0===s.length?(alert("Usu\xe1rio ou senha incorreta"),console.log("Usu\xe1rio n\xe3o encontrado")):s.length>0&&(s[0].username===n.emaillogin&&s[0].password===n.password?(e("1234"),t.push("/list")):alert("Usu\xe1rio ou senha incorreta")),Array.from(document.querySelectorAll("input")).forEach((function(e){return e.value=""}))}))},initialValues:{emaillogin:"",password:""},render:function(e){e.values,e.errors,e.touched,e.isValid,e.setFieldValue;return Object(O.jsxs)(u.c,{className:"formik__login",children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)(u.b,{type:"email",autoFocus:!0,name:"emaillogin"}),Object(O.jsx)(u.a,{name:"emaillogin"}),Object(O.jsx)("label",{children:"Senha"}),Object(O.jsx)(u.b,{type:"password",name:"password"}),Object(O.jsx)("div",{className:"btn",children:Object(O.jsxs)("button",{className:"btn__enter",type:"submit",children:[" ","Entrar"," "]})})]})}})]}),Object(O.jsxs)("div",{className:"registration",children:[Object(O.jsx)("h3",{children:"Registrar"}),Object(O.jsx)(u.d,{validationSchema:m,onSubmit:function(e,t){o.a.post("http://localhost:5000/administradores",{username:e.emailRegister,password:e.passwordRegister}).then((function(e){console.log(e),alert("Usu\xe1rio Cadastrado com Sucesso")})),t.resetForm()},initialValues:{emailRegister:"",passwordRegister:""},render:function(e){e.values,e.errors,e.touched,e.isValid,e.setFieldValue;return Object(O.jsxs)(u.c,{className:"formik__register",children:[Object(O.jsxs)("div",{className:"form__register__fields",children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)(u.b,{type:"text",name:"emailRegister"}),Object(O.jsx)(u.a,{name:"emailRegister"})]}),Object(O.jsxs)("div",{className:"form__register__fields",children:[Object(O.jsx)("label",{children:"Senha"}),Object(O.jsx)(u.b,{type:"password",name:"passwordRegister"}),Object(O.jsx)(u.a,{name:"passwordRegister"})]}),Object(O.jsx)("div",{className:"btn",children:Object(O.jsx)("button",{className:"btn__register",type:"submit",children:"Registrar"})})]})}})]})]})})})},h=n(41),v=n(99),f=n(21),p=n(57),_=n.n(p),g=n(98),N=n(6),C=n(30),S=(n(228),function(){var e=Object(a.useState)(!1),t=Object(N.a)(e,2),n=t[0],s=t[1],r=Object(a.useContext)(l).setToken;return Object(O.jsx)("nav",{className:"navbar",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"navbar__container",children:[Object(O.jsx)("ul",{className:"navbar__left",children:Object(O.jsxs)("div",{className:"navbar__left-logo",children:[Object(O.jsx)(C.a,{className:"toglle",onClick:function(){return s(!n)}}),Object(O.jsx)("div",{className:"logo",children:"CADASTRO - VINGADORES"})]})}),Object(O.jsx)("div",{className:"links",id:n?"hidden":"",children:Object(O.jsxs)("ul",{className:"navbar__right",children:[Object(O.jsx)("li",{children:Object(O.jsx)(f.b,{to:"/list",onClick:function(){return s(!n)},children:"Usu\xe1rios"})}),Object(O.jsx)("li",{children:Object(O.jsx)(f.b,{to:"/include",onClick:function(){return s(!n)},children:"Inclus\xe3o"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",onClick:function(){r(null),s(!n)},children:"Logout"})})]})})]})})})}),y=(n(229),n(58)),E=n.n(y);j.c({mixed:{default:"\xe9 inv\xe1lido",required:"*Campo obrigat\xf3rio",oneOf:"deve ser um dos seguintes valores: ${values}",notOneOf:"n\xe3o pode ser um dos seguintes valores: ${values}",typeError:"deve ser um n\xfamero"},string:{length:"deve ter exatamente ${length} caracteres",min:"deve ter pelo menos ${min} caracteres",max:"deve ter no m\xe1ximo ${max} caracteres",email:"*Formato de email inv\xe1lido",url:"deve ter um formato de URL v\xe1lida",trim:"n\xe3o deve conter espa\xe7os no in\xedcio ou no fim.",lowercase:"deve estar em mai\xfasculo",uppercase:"deve estar em min\xfasculo"},number:{min:"deve ser no m\xednimo ${min}",max:"deve ser no m\xe1ximo ${max}",lessThan:"deve ser menor que ${less}",moreThan:"deve ser maior que ${more}",notEqual:"n\xe3o pode ser igual \xe0 ${notEqual}",positive:"deve ser um n\xfamero pos\xedtivo",negative:"deve ser um n\xfamero negativo",integer:"deve ser um n\xfamero inteiro"}});var w=j.b().shape({name:j.d().required(),email:j.d().email().required(),emaillogin:j.d().email(),emailRegister:j.d().email(),cpf:j.a().typeError("*Deve ser um numero").required(),cep:j.d().required(),rua:j.d().required(),bairro:j.d().required(),numero:j.a().required(),cidade:j.d().required(),passwordRegister:j.d().min(4)}),$=(n(239),{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"60%"}});E.a.setAppElement("#root");var k=function(e){var t=e.onClose,n=e.selectedUser,s=Object(a.useState)(n),r=Object(N.a)(s,2),c=r[0];r[1];Object(a.useEffect)((function(){console.log(c)}),[]),Object(a.useEffect)((function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}}));var i=function(e){console.log(e),"Escape"===e.key&&t(null)},l=function(){t(null)};return Object(O.jsx)("div",{children:Object(O.jsxs)(E.a,{isOpen:!0,style:$,onRequestClose:l,children:[Object(O.jsx)("div",{className:"btn__modal",children:Object(O.jsx)("button",{className:"btn__x",onClick:l,children:"X"})}),Object(O.jsx)("div",{id:"modalUser",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Alterar Dados"}),Object(O.jsx)("div",{className:"form__modal",children:Object(O.jsx)(u.d,{className:"formik",validationSchema:w,onSubmit:function(e,t,n){o.a.put("http://localhost:5000/usuarios/".concat(e.id),{nome:e.name,cpf:e.cpf,email:e.email,"endere\xe7o":{cep:e.cep,rua:e.rua,numero:e.numero,bairro:e.bairro,cidade:e.cidade}}).then((function(e){console.log(e),l()}))},initialValues:{id:c.id,name:c.nome,cpf:c.cpf,email:c.email,cep:c.cep,rua:c.rua,numero:c.numero,bairro:c.bairro,cidade:c.cidade},render:function(e){e.values,e.errors,e.touched;var t=e.isValid,n=e.setFieldValue;return Object(O.jsxs)(u.c,{className:"form__modal",children:[Object(O.jsxs)("div",{className:"form__field__modal",children:[Object(O.jsx)("label",{children:"Nome"}),Object(O.jsx)(u.b,{name:"name",type:"text"}),Object(O.jsx)(u.a,{name:"name"})]}),Object(O.jsxs)("div",{className:"form__field__modal",children:[Object(O.jsx)("label",{children:"CPF"}),Object(O.jsx)(u.b,{name:"cpf",type:"text"}),Object(O.jsx)(u.a,{name:"cpf"})]}),Object(O.jsxs)("div",{className:"form__field__modal",children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)(u.b,{name:"email",type:"email"}),Object(O.jsx)(u.a,{name:"email"})]}),Object(O.jsx)("div",{className:"endereco__text",children:Object(O.jsx)("h3",{children:"Endere\xe7o"})}),Object(O.jsxs)("div",{className:"form__field__modal",children:[Object(O.jsxs)("div",{className:"cep__search",children:[Object(O.jsx)("label",{children:"CEP"}),Object(O.jsx)("div",{className:"div__search",children:Object(O.jsx)("button",{className:"search",children:"Buscar CEP: "})})]}),Object(O.jsx)(u.b,{name:"cep",type:"text",onBlur:function(e){return function(e,t){var n=e.target.value,a=null===n||void 0===n?void 0:n.replace(/[^0-9]/g,"");8===(null===a||void 0===a?void 0:a.length)&&fetch("https://viacep.com.br/ws/".concat(a,"/json/")).then((function(e){return e.json()})).then((function(e){t("rua",e.logradouro),t("bairro",e.bairro),t("cidade",e.localidade),console.log(e)}))}(e,n)}}),Object(O.jsx)(u.a,{name:"cep"})]}),Object(O.jsxs)("div",{className:"form__field__modal",children:[Object(O.jsx)("label",{children:"Rua"}),Object(O.jsx)(u.b,{name:"rua",type:"text"}),Object(O.jsx)(u.a,{name:"rua"})]}),Object(O.jsxs)("div",{className:"form__field__modal",children:[Object(O.jsx)("label",{children:"N\xfamero"}),Object(O.jsx)(u.b,{name:"numero",type:"number"}),Object(O.jsx)(u.a,{name:"numero"})]}),Object(O.jsxs)("div",{className:"form__field__modal",children:[Object(O.jsx)("label",{children:"Bairro"}),Object(O.jsx)(u.b,{name:"bairro",type:"text"}),Object(O.jsx)(u.a,{name:"bairro"})]}),Object(O.jsxs)("div",{className:"form__field__modal",children:[Object(O.jsx)("label",{children:"Cidade"}),Object(O.jsx)(u.b,{name:"cidade",type:"text"}),Object(O.jsx)(u.a,{name:"cidade"})]}),Object(O.jsx)("div",{className:"btn__div",children:Object(O.jsx)("button",{className:"btn__include",type:"submit",disabled:!t,children:"Salvar"})})]})}})})]})})]})})},R=function(){var e=Object(a.useState)([]),t=Object(N.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),c=Object(N.a)(r,2),i=c[0],d=c[1],j=Object(a.useState)(""),m=Object(N.a)(j,2),u=m[0],b=m[1],x=Object(a.useState)(!1),h=Object(N.a)(x,2),v=h[0],f=h[1],p=Object(a.useState)({}),y=Object(N.a)(p,2),E=y[0],w=y[1],$=[],R=(Object(a.useContext)(l).setToken,function(){var e=Object(g.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/usuarios");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,$=n.map((function(e){return{id:e.id,nome:e.nome,filterName:e.nome.toLowerCase(),cpf:e.cpf,email:e.email,cep:e.endere\u00e7o.cep,rua:e.endere\u00e7o.rua,numero:e.endere\u00e7o.numero,bairro:e.endere\u00e7o.bairro,cidade:e.endere\u00e7o.cidade}})),console.log($),s($),d(Object.assign([],$));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(a.useEffect)((function(){R()}),[]);return Object(O.jsxs)("div",{id:"listUsers",children:[Object(O.jsx)(S,{}),Object(O.jsx)("div",{className:"container__list",children:Object(O.jsxs)("section",{children:[Object(O.jsx)("h1",{children:"Lista de Usu\xe1rios Cadastrados"}),Object(O.jsx)("div",{className:"filter",children:Object(O.jsx)("input",{className:"input_search",placeholder:"Filtro por nome...",autoFocus:!0,type:"text",value:u,onChange:function(e){var t=e.target.value;b(t),console.log(u);var a=u.toLowerCase(),s=n.filter((function(e){return e.filterName.includes(a)}));d(s)}})}),0===n.length&&Object(O.jsx)("span",{className:"span__text",children:Object(O.jsx)("h1",{children:"Carregando dados dos Usu\xe1rios..."})}),n.length>0&&Object(O.jsx)("div",{className:"table__users",children:Object(O.jsxs)("table",{className:"users__list",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Nome"}),Object(O.jsx)("th",{children:"CPF"}),Object(O.jsx)("th",{children:"Email"}),Object(O.jsx)("th",{children:"Cidade"}),Object(O.jsx)("th",{children:"Excluir"}),Object(O.jsx)("th",{children:"Alterar"})]})}),Object(O.jsx)("tbody",{children:i.map((function(e){var t=e.id;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.nome}),Object(O.jsx)("td",{children:e.cpf}),Object(O.jsx)("td",{children:e.email}),Object(O.jsx)("td",{children:e.cidade}),Object(O.jsx)("td",{children:Object(O.jsx)(C.c,{id:t,className:"delete__icon",onClick:function(){return function(e){console.log(e),o.a.delete("http://localhost:5000/usuarios/".concat(e)).then((function(e){console.log(e),R()}))}(t)}})}),Object(O.jsx)("td",{children:Object(O.jsx)(C.b,{className:"edit__icon",id:t,onClick:function(){return function(e){w(e),f(!0)}(e)}})})]},e.id)}))})]})})]})}),v&&Object(O.jsx)(k,{onSave:function(){},onClose:function(){f(!1),R()},selectedUser:E})]})},q=n(40),U=n.n(q),A={};try{if(!window.localStorage)throw Error("no local storage");A.set=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},A.get=function(e){var t=localStorage.getItem(e);try{return JSON.parse(t)}catch(n){return null}},A.remove=function(e){return localStorage.removeItem(e)}}catch(P){A.set=U.a.set,A.get=U.a.getJSON,A.remove=U.a.remove}var F=A;var T=function(e){var t=e.children,n=function(e){var t=Object(a.useState)((function(){return F.get(e)})),n=Object(N.a)(t,2),s=n[0],r=n[1];return[s,Object(a.useCallback)((function(t){F.set(e,t),r(t)}),[e]),Object(a.useCallback)((function(){F.remove(e),r(void 0)}),[e])]}("token"),s=Object(N.a)(n,2),r=s[0],c=s[1];return Object(O.jsx)(l.Provider,{value:{token:r,setToken:c},children:t})},V=(n(240),function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(S,{}),Object(O.jsx)("div",{id:"include",children:Object(O.jsxs)("div",{className:"container__include",children:[Object(O.jsx)("h1",{children:"Inclus\xe3o de novo Usu\xe1rio"}),Object(O.jsx)("div",{className:"form",children:Object(O.jsx)(u.d,{validationSchema:w,onSubmit:function(e,t){o.a.post("http://localhost:5000/usuarios",{nome:e.name,cpf:e.cpf,email:e.email,"endere\xe7o":{cep:e.cep,rua:e.rua,numero:e.numero,bairro:e.bairro,cidade:e.cidade}}).then((function(e){console.log(e)})),t.resetForm(),alert("USU\xc1RIO CADASTRADO COM SUCESSO")},initialValues:{name:"",cpf:"",email:"",cep:"",rua:"",numero:"",bairro:"",cidade:""},render:function(e){e.values,e.errors,e.touched;var t=e.isValid,n=e.setFieldValue;return Object(O.jsxs)(u.c,{className:"form__formik",children:[Object(O.jsxs)("div",{className:"form__field",children:[Object(O.jsx)("label",{children:"Nome"}),Object(O.jsx)(u.b,{name:"name",type:"text"}),Object(O.jsx)(u.a,{name:"name"})]}),Object(O.jsxs)("div",{className:"form__field",children:[Object(O.jsx)("label",{children:"CPF"}),Object(O.jsx)(u.b,{name:"cpf",type:"text"}),Object(O.jsx)(u.a,{name:"cpf"})]}),Object(O.jsxs)("div",{className:"form__field",children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)(u.b,{name:"email",type:"email"}),Object(O.jsx)(u.a,{name:"email"})]}),Object(O.jsx)("div",{className:"endereco__text",children:Object(O.jsx)("h3",{children:"Endere\xe7o"})}),Object(O.jsxs)("div",{className:"form__field",children:[Object(O.jsxs)("div",{className:"cep__search",children:[Object(O.jsx)("label",{children:"CEP"}),Object(O.jsx)("div",{className:"div__search",children:Object(O.jsx)("button",{className:"search",children:"Buscar CEP: "})})]}),Object(O.jsx)(u.b,{name:"cep",type:"text",onBlur:function(e){return function(e,t){var n=e.target.value,a=null===n||void 0===n?void 0:n.replace(/[^0-9]/g,"");8===(null===a||void 0===a?void 0:a.length)&&fetch("https://viacep.com.br/ws/".concat(a,"/json/")).then((function(e){return e.json()})).then((function(e){t("rua",e.logradouro),t("bairro",e.bairro),t("cidade",e.localidade),console.log(e)}))}(e,n)}}),Object(O.jsx)(u.a,{name:"cep"})]}),Object(O.jsxs)("div",{className:"form__field",children:[Object(O.jsx)("label",{children:"Rua"}),Object(O.jsx)(u.b,{name:"rua",type:"text"}),Object(O.jsx)(u.a,{name:"rua"})]}),Object(O.jsxs)("div",{className:"form__field",children:[Object(O.jsx)("label",{children:"N\xfamero"}),Object(O.jsx)(u.b,{name:"numero",type:"number"}),Object(O.jsx)(u.a,{name:"numero"})]}),Object(O.jsxs)("div",{className:"form__field",children:[Object(O.jsx)("label",{children:"Bairro"}),Object(O.jsx)(u.b,{name:"bairro",type:"text"}),Object(O.jsx)(u.a,{name:"bairro"})]}),Object(O.jsxs)("div",{className:"form__field",children:[Object(O.jsx)("label",{children:"Cidade"}),Object(O.jsx)(u.b,{name:"cidade",type:"text"}),Object(O.jsx)(u.a,{name:"cidade"})]}),Object(O.jsx)("div",{className:"btn__div",children:Object(O.jsx)("button",{className:"btn__include",type:"submit",disabled:!t,children:"Cadastrar Novo Usu\xe1rio"})})]})}})})]})})]})}),I=function(e){var t=e.component,n=Object(v.a)(e,["component"]),s=Object(a.useContext)(l).token;return Object(O.jsx)(d.b,Object(h.a)(Object(h.a)({},n),{},{render:function(){return s?Object(O.jsx)(t,Object(h.a)({},n)):Object(O.jsx)(d.a,{to:"/"})}}))},L=function(){return Object(O.jsx)(f.a,{children:Object(O.jsx)(T,{children:Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{exact:!0,path:"/",component:x}),Object(O.jsx)(I,{path:"/list",component:R}),Object(O.jsx)(I,{path:"/include",component:V})]})})})};var D=function(){return Object(O.jsx)(L,{})};c.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(D,{})}),document.getElementById("root"))}},[[241,1,2]]]);
//# sourceMappingURL=main.5b5dc065.chunk.js.map